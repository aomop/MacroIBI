% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers_autosave.R
\name{build_sections_from_autosave}
\alias{build_sections_from_autosave}
\title{Rebuild section data from an autosave data.frame}
\usage{
build_sections_from_autosave(autosave_df, group_defs)
}
\arguments{
\item{autosave_df}{A data.frame of taxa (i.e. with Title/Date/schema_version
columns already removed). It should contain either:
\itemize{
\item columns \code{group_id} and \code{section_id} (new schema), or
\item column \code{Group} containing section IDs (legacy schema).
}}

\item{group_defs}{A data.frame with columns:
\itemize{
\item section_id
\item group_id
\item group_name
used to map group_id back to section_id in the new schema.
}}
}
\value{
A named list. Each element name is a section_id (e.g. "section_1"),
and each value is a list with component \code{data}, which is itself a list of
rows (id, taxon, dipnet1, dipnet2, tsn, parentTsn). Returns an empty list
if there is no usable data. Throws an error if required grouping columns
are missing.
}
\description{
This helper mirrors the logic in autosave_module_server() when loading an
auto-save file, but returns a plain R structure instead of touching
reactives. It supports both the "new" schema (group_id + section mapping)
and the legacy schema (Group column with section IDs).
}
\keyword{internal}
