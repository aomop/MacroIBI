% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers_generate_tree.R
\name{layout_tree}
\alias{layout_tree}
\title{Layout a taxonomic tree for plotting}
\usage{
layout_tree(nodes)
}
\arguments{
\item{nodes}{A data frame with columns \code{tsn}, \code{parentTsn},
\code{taxon}, \code{level}, and \code{selected}.}
}
\value{
A list with elements:
\describe{
\item{nodes}{The input nodes (possibly filtered) with rank_index/x.}
\item{edges}{A data frame of parent/child TSN pairs.}
\item{coords}{A data frame giving x/y coordinates for each TSN.}
\item{leaf_tsns}{The TSNs of selected taxa that act as leaves.}
}
or \code{NULL} if a layout cannot be constructed.
}
\description{
Compute x/y coordinates and edges for a taxonomic tree defined by
\code{nodes} (as returned by \code{build_tree_nodes()}).
}
\details{
The layout:
\itemize{
\item maps taxonomic ranks to x positions via \code{rank_levels}
\item prunes ranks above the least common ancestor (LCA) of the
selected taxa
\item lays out leaves vertically in order of a DFS walk
\item positions internal nodes at the mean y of their children
}
}
\keyword{internal}
